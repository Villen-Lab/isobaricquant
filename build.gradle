/*
 * This file was generated by the Gradle 'init' task.
 */

buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "gradle.plugin.com.github.johnrengelman:shadow:7.1.2"
    }
}

plugins {
    id 'java-library'
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.11'
    id 'org.beryx.jlink' version '2.24.4'
    id "com.github.johnrengelman.shadow" version "7.1.2"
}

repositories {
    mavenLocal()
    maven {
        url = uri('https://bio.informatik.uni-jena.de/repository/libs-release-oss/')
        metadataSources {
            artifact()
        }
    }

    maven {
        url = uri('https://nexus.gluonhq.com/nexus/content/repositories/releases/')
    }

    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
    mavenCentral()
}

javafx {
    version = "17"
    modules = [ 'javafx.controls', 'javafx.fxml', 'javafx.web', 'javafx.base', 'javafx.graphics', 'javafx.swing', 'javafx.media']
}

run   {
    doFirst   {
        jvmArgs   =   [
                '--module-path', classpath.asPath,
                '--add-modules', 'javafx.controls',
                '--add-modules', 'javafx.fxml',
                '--add-modules', 'javafx.graphics',
                '--add-modules', 'javafx.base',
                '--add-modules', 'javafx.swing',
                '--add-modules', 'javafx.media',
        ]
    }
}

mainClassName = "edu.uw.villenlab.isobaricquant.IsobaricQuant"

jlink {
    moduleName = "IsobaricQuant"
    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']
    launcher {
        name = 'IsobaricQuant-Standalone'
    }
}

dependencies {
    implementation  fileTree(include: '*.jar', dir: 'lib')
    implementation 'org.controlsfx:controlsfx:11.1.1'
    implementation 'com.google.code.gson:gson:2.8.9'
    implementation 'org.apache.commons:commons-math3:3.6.1'
    implementation 'commons-cli:commons-cli:1.5.0'
    runtimeOnly 'uk.ac.ebi.jmzml:jmzml:1.7.11'
    implementation 'org.json:json:20211205'
    implementation 'com.sun.xml.bind:jaxb-impl:3.0.2'
}
